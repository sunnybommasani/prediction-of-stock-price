#include<stdio.h>
#include<conio.h>
float smean20();
float emean();
float emean1();
int main()
{
//	float a[40]={16.02,16.77,16.87,17.05,16.83,16.98,16.87,16.86,16.98,17.03,17.18,17.16,17.4,17.7,17.71,17.66,17.34,
//17.41,17.93,17.94,17.98,17.99,17.44,17.38,17.26,17.3,17.58,17.65,18.09,18.03,18.17,18.49,18.56,18.44,18.79,18.66,18.49,18.35,18.08,17.91,};

float a[40]={ 1197.1,1189.9,1185.5,1186.2,1193.65,1195.2,1214.35,1234,1235,1232.5,1247.65,1238.5,1242.6,1236.3,1236.35,1244.65,1267.55,1290.6,1291.9,1284.95,1286.65,1305.7,1298.7,1311.05,1314.1,1307.15,1305.65,1297.65,1303.6,1310.2};
//	for(int i=0;i<=39;i++)
  //  a[i]=i;
	int c;
	float sma[10],tot=0;
	for(int i=0;i<30;i++)
	{
	tot+=a[i];
		}
	sma[0]=tot/30;
	int count=0;
	tot=0;
    for(int j=1;j<10;j++)	
    {
    	c=j+30;
	for(int i=j;i<c;i++)
	{
		tot+=a[i];
		
	}
	count++;
	sma[count]=tot/30;
	
		tot=0;
}
 for(int i=0;i<10;i++)
 printf("\n%f",sma[i]);
 int d=30;
 float t=0,s[10];
 for(int i=0;i<10;i++)
 {
 	s[i]=a[d]-sma[i];
  	s[i]=s[i]*s[i];
 	t+=s[i];
 	d++;
    //printf("\n%f",s[i]);
 }
 float avg=t/10;
 printf("\nAverage mean square error for sma30 is %f",avg);
 float av=smean20();
 printf("\nAverage mean square error for sma20 is %f",av);
 float ans=emean();
 printf("\nAverage mean square error for ema is %f",ans);
 float ag=emean1();
 printf("\nAverage mean square error for ema30 is %f",ag );
 if(avg<av && avg<ans && avg<ag  )
 {
 	printf("\nTHE WINNER IS SMA30");
 }
 if(av<avg&& av<ans && av<ag )
 {
 	printf("\nTHE WINNER IS SMA20");
 }
 if(ans<avg&&ans<ag&&ans<av)
 {
 	printf("\nTHE WINNER IS EMA20");
 }
 if(ag<avg&&ag<av&&ag<ans)
 {
 	printf("\nTHE WINNER IS EMA30");
 }
 
 return 0;
}

float smean20()
{
//float a[40]={17.35,17.29,17.18,16.8,16.87,16.75,16.45,16.6,16.32,15.9,15.71,15.93,15.58,15.75,16.09,16.15,16.12,15.96,16.11,15.84,
//15.55,15.31,15.34,15.64,15.53,15.35,15.05,14.58,14.52,16.01,15.7,15.65,15.85,15.9,15.95,15.53,15.29,15.03,15.33,15.5};
//float a[40]={16.02,16.77,16.87,17.05,16.83,16.98,16.87,16.86,16.98,17.03,17.18,17.16,17.4,17.7,17.71,17.66,17.34,
//17.41,17.93,17.94,17.98,17.99,17.44,17.38,17.26,17.3,17.58,17.65,18.09,18.03,18.17,18.49,18.56,18.44,18.79,18.66,18.49,18.35,18.08,17.91,};
	float a[40]={ 1197.1,1189.9,1185.5,1186.2,1193.65,1195.2,1214.35,1234,1235,1232.5,1247.65,1238.5,1242.6,1236.3,1236.35,1244.65,1267.55,1290.6,1291.9,1284.95,1286.65,1305.7,1298.7,1311.05,1314.1,1307.15,1305.65,1297.65,1303.6,1310.2};
	//for(int i=0;i<=39;i++)
	//a[i]=i;
	int c=20;
	float sma[20],tot=0;
	for(int i=0;i<20;i++)
	{
	tot+=a[i];
		}
	sma[0]=tot/20;
	int count=0;
	tot=0;
    for(int j=1;j<20;j++)	
    {
    	c=j+20;
	for(int i=j;i<c;i++)
	{
		tot+=a[i];
		
	}
	count++;
	sma[count]=tot/20;
		tot=0;
}
 for(int i=0;i<20;i++)
 printf("\n%f",sma[i]);
 int d=20;
 float t=0,s[20];
 for(int i=0;i<19;i++)
 {
 	s[i]=a[d]-sma[i];
  	s[i]=s[i]*s[i];
 	t+=s[i];
 	d++;
 }
 float avg=t/19;

 return avg;
}
float emean()
{
	//float a[40]={17.35,17.29,17.18,16.8,16.87,16.75,16.45,16.6,16.32,15.9,15.71,15.93,15.58,15.75,16.09,16.15,16.12,15.96,16.11,15.84,
//15.55,15.31,15.34,15.64,15.53,15.35,15.05,14.58,14.52,16.01,15.7,15.65,15.85,15.9,15.95,15.53,15.29,15.03,15.33,15.5};
//float a[40]={16.02,16.77,16.87,17.05,16.83,16.98,16.87,16.86,16.98,17.03,17.18,17.16,17.4,17.7,17.71,17.66,17.34,
//17.41,17.93,17.94,17.98,17.99,17.44,17.38,17.26,17.3,17.58,17.65,18.09,18.03,18.17,18.49,18.56,18.44,18.79,18.66,18.49,18.35,18.08,17.91,};
float a[40]={ 1197.1,1189.9,1185.5,1186.2,1193.65,1195.2,1214.35,1234,1235,1232.5,1247.65,1238.5,1242.6,1236.3,1236.35,1244.65,1267.55,1290.6,1291.9,1284.95,1286.65,1305.7,1298.7,1311.05,1314.1,1307.15,1305.65,1297.65,1303.6,1310.2};
	//for(int i=0;i<=39;i++)
	///a[i]=i;
		float ema[20],tot=0;
	for(int i=0;i<20;i++)
	{
	tot+=a[i];
		}
	ema[0]=tot/20;
	int c=20;
	
	for(int i=1;i<20;i++)
	{
		ema[i]=(0.4*a[c-1])+ (0.6*ema[i-1]);
		c++;
	}
	for(int i=0;i<20;i++)
	{
		printf("\n%f",ema[i]);
	}
	int d=20;
 float t=0,s[20];
 for(int i=0;i<20;i++)
 {
 	s[i]=a[d]-ema[i];
  	s[i]=s[i]*s[i];
 	t+=s[i];
 	d++;
 }
 float avg=t/20;
 
	return avg;
}
float emean1()
{
	//float a[40]={17.35,17.29,17.18,16.8,16.87,16.75,16.45,16.6,16.32,15.9,15.71,15.93,15.58,15.75,16.09,16.15,16.12,15.96,16.11,15.84,
//15.55,15.31,15.34,15.64,15.53,15.35,15.05,14.58,14.52,16.01,15.7,15.65,15.85,15.9,15.95,15.53,15.29,15.03,15.33,15.5};
//float a[40]={16.02,16.77,16.87,17.05,16.83,16.98,16.87,16.86,16.98,17.03,17.18,17.16,17.4,17.7,17.71,17.66,17.34,
//17.41,17.93,17.94,17.98,17.99,17.44,17.38,17.26,17.3,17.58,17.65,18.09,18.03,18.17,18.49,18.56,18.44,18.79,18.66,18.49,18.35,18.08,17.91,};
float a[40]={ 1197.1,1189.9,1185.5,1186.2,1193.65,1195.2,1214.35,1234,1235,1232.5,1247.65,1238.5,1242.6,1236.3,1236.35,1244.65,1267.55,1290.6,1291.9,1284.95,1286.65,1305.7,1298.7,1311.05,1314.1,1307.15,1305.65,1297.65,1303.6,1310.2};
	//for(int i=0;i<=39;i++)
	///a[i]=i;
		float ema[10],tot=0;
	for(int i=0;i<30;i++)
	{
	tot+=a[i];
		}
	ema[0]=tot/30;
	int c=30;
	
	for(int i=1;i<10;i++)
	{
		ema[i]=(0.4*a[c-1])+ (0.6*ema[i-1]);
		c++;
	}
	for(int i=0;i<10;i++)
	{
		printf("\n%f",ema[i]);
	}
	int d=30;
 float t=0,s[10];
 for(int i=0;i<10;i++)
 {
 	s[i]=a[d]-ema[i];
  	s[i]=s[i]*s[i];
 	t+=s[i];
 	d++;
 }
 float avg=t/10;
 
	return avg;
}

